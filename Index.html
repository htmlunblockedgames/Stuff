<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'
      xmlns:b='http://www.google.com/2005/gml/b'
      xmlns:data='http://www.google.com/2005/gml/data'
      xmlns:expr='http://www.google.com/2005/gml/expr'>
  <head>
    <meta name='viewport' content='width=device-width, initial-scale=1'/>
    <title>PolyTrack</title>
    <b:skin version='1.0'><![CDATA[
      html, body {
        margin: 0;
        height: 100%;
        display: flex;
        flex-direction: column;
        font-family: sans-serif;
        background: #000;
        color: #fff;
      }
      .header {
        text-align: center;
        padding: 20px;
        background: #000;
      }
      .player-bezel {
        background: #000;
        padding: 50px 150px;
        box-sizing: border-box;
        flex: none;
        display: flex;
        flex-direction: column;
        align-items: stretch;
      }
      .ad-slot {
        background: #222;
        color: #ddd;
        text-align: center;
        height: 600px;
        line-height: 600px;
        margin: 20px 0;
      }
      .embed-container {
        position: relative;
        width: 100%;
        padding-bottom: 75%; /* 4:3 aspect ratio */
        background: #000;
      }
      .embed-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
      }
      .control-bar {
        background: #111;
        text-align: left;
        padding: 5px 10px;
        margin-top: 10px;
      }
      .fullscreen-btn {
        background: transparent;
        border: none;
        color: #fff;
        font-size: 20px;
        cursor: pointer;
      }
      @media (max-width: 600px) {
        .player-bezel { padding: 20px; }
        .ad-slot { display: none; }
      }
      .player-bezel:fullscreen,
      .player-bezel:-webkit-full-screen {
        padding: 0;
        width: 100vw;
        height: 100vh;
        display: flex;
        flex-direction: column;
      }
      .player-bezel:fullscreen .embed-container,
      .player-bezel:-webkit-full-screen .embed-container {
        padding-bottom: 0;
        flex-grow: 1;
      }
      .player-bezel:fullscreen .control-bar,
      .player-bezel:-webkit-full-screen .control-bar {
        display: none;
      }
    ]]></b:skin>
    <b:include data='blog' name='all-head-content'/>
  </head>
  <body>
    <b:section id='main' class='main' tag='main' showaddelement='false'>
      <div class='header'>
        <img src='https://raw.githubusercontent.com/htmlunblockedgames/polytrack/main/IMG_1300.png' alt='PolyTrack Logo' style='width:50%; height:auto;' />
      </div>
      <div class='player-bezel' id='embedContainer'>
        <div class='ad-slot'>Top Ad</div>
        <div class='embed-container'>
          <iframe id='gameFrame'
                  src='https://htmlunblockedgames.github.io/polytrack/'
                  title='PolyTrack Game'
                  allowfullscreen='true'
                  webkitallowfullscreen='true'
                  mozallowfullscreen='true'
                  allow='fullscreen; pointer-lock; accelerometer; gyroscope'>
          </iframe>
        </div>
        <div class='control-bar'>
          <button class='fullscreen-btn' onclick='toggleFullscreen()'>â›¶ Fullscreen</button>
        </div>
        <div class='ad-slot'>Bottom Ad</div>
      </div>
      <script type='text/javascript'>
        function toggleFullscreen() {
          var bezel = document.getElementById('embedContainer');
          if (bezel.requestFullscreen) bezel.requestFullscreen();
          else if (bezel.webkitRequestFullscreen) bezel.webkitRequestFullscreen();
          else if (bezel.msRequestFullscreen) bezel.msRequestFullscreen();
        }
        document.getElementById('embedContainer').addEventListener('touchstart', function() {
          try { document.getElementById('gameFrame').contentWindow.focus(); } catch(e) {}
        });
      </script>
    </b:section>
  </body>
</html>
